schema: '2.0'
stages:
  train_test_split:
    cmd: python src/train_test_split.py
    deps:
    - path: data/GOLD_XYZ_OSC.0001_1024.hdf5
      md5: 13c38751da99a2739fdc04029a86b8e9
      size: 21449148312
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/datasets
      md5: 4e8e8c47aa00579ae5cb28365f22700e.dir
      size: 8536
      nfiles: 4
    - path: src/train_test_split.py
      md5: 012c58c3553126c71a696385a87a553c
      size: 611
    outs:
    - path: data/test_indices.csv
      md5: f9418fde3b28a3a0b55894d8096137fb
      size: 1935500
    - path: data/train_indices.csv
      md5: d4d5cb469315e590b06a4886003c5da4
      size: 17400622
  sample_data:
    cmd: python src/sample_data.py
    deps:
    - path: data/GOLD_XYZ_OSC.0001_1024.hdf5
      md5: 13c38751da99a2739fdc04029a86b8e9
      size: 21449148312
    - path: data/train_indices.csv
      md5: d4d5cb469315e590b06a4886003c5da4
      size: 17400622
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/datasets
      md5: 4e8e8c47aa00579ae5cb28365f22700e.dir
      size: 8536
      nfiles: 4
    - path: src/sample_data.py
      md5: 5ac4270f32c6df1de56479c94753c095
      size: 589
    outs:
    - path: data/data.pkl
      md5: 0d086428b14c3e433c2b9c980ed896c3
      size: 514809048
  diagrams:
    cmd: python src/diagrams.py
    deps:
    - path: data/data.pkl
      md5: 0d086428b14c3e433c2b9c980ed896c3
      size: 514809048
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/diagrams.py
      md5: d8bf8eb7df0570abeec8c1ebfbfc4a07
      size: 1739
    - path: src/modurec/features
      md5: dc64473db7695455810f1b75d56dbc8a.dir
      size: 56337
      nfiles: 14
    - path: src/utils.py
      md5: edfad73ea80be556c2ee1224f70e6397
      size: 199
    params:
      params.yaml:
        diagrams:
          random_seed: 42
    outs:
    - path: data/diagrams.pkl
      md5: 5c403db865608fb0e4698d5df3a0cf91
      size: 1342785592
  featurize:
    cmd: python src/featurize.py
    deps:
    - path: data/data.pkl
      md5: 0d086428b14c3e433c2b9c980ed896c3
      size: 514809048
    - path: data/diagrams.pkl
      md5: 5c403db865608fb0e4698d5df3a0cf91
      size: 1342785592
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/feature_list.py
      md5: 5f59a2137152959e5d80acb6f835c8ee
      size: 8885
    - path: src/featurize.py
      md5: 2a3d490773c9641cd965d742c8dd9c90
      size: 1073
    - path: src/modurec/features
      md5: dc64473db7695455810f1b75d56dbc8a.dir
      size: 56337
      nfiles: 14
    - path: src/utils.py
      md5: edfad73ea80be556c2ee1224f70e6397
      size: 199
    outs:
    - path: data/features.pkl
      md5: 4e9dd6d37656c702a80120b498a99233
      size: 5570798
  spotcheck:
    cmd: python src/spocheck.py
    deps:
    - path: data/features.pkl
      md5: 4e9dd6d37656c702a80120b498a99233
      size: 5570798
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/spocheck.py
      md5: 1bda30da188c0b80fa77ae5b30dbeafc
      size: 9381
    - path: src/utils.py
      md5: edfad73ea80be556c2ee1224f70e6397
      size: 199
  test_model:
    cmd: python src/test_model.py
    deps:
    - path: data/features.pkl
      md5: 4e9dd6d37656c702a80120b498a99233
      size: 5570798
    - path: src/config.py
      md5: 7882d6e2ac507cbe39ced21046fd9e62
      size: 2023
    - path: src/spocheck.py
      md5: 1bda30da188c0b80fa77ae5b30dbeafc
      size: 9381
    - path: src/test_model.py
      md5: 5f366e97049096461a537123598fea71
      size: 1533
    - path: src/utils.py
      md5: edfad73ea80be556c2ee1224f70e6397
      size: 199
    outs:
    - path: metrics/accuracy.json
      md5: 8585b46d5109fd38bd3f353e8e006b90
      size: 32
    - path: metrics/results.csv
      md5: 8ea65ccebb6cf21149d5de83e1a1c0a7
      size: 13076
  evaluate_model:
    cmd: python src/evaluate_model.py
    deps:
    - path: data/features.pkl
      md5: 4e9dd6d37656c702a80120b498a99233
      size: 5570798
    - path: src/config.py
      md5: 1ae0da0d8adff291129d8d2468257e5d
      size: 2127
    - path: src/evaluate_model.py
      md5: 56cdd64c1411685bcaae207aa4ba8e85
      size: 1579
    - path: src/spocheck.py
      md5: 1bda30da188c0b80fa77ae5b30dbeafc
      size: 9381
    - path: src/utils.py
      md5: edfad73ea80be556c2ee1224f70e6397
      size: 199
    outs:
    - path: metrics/accuracy.json
      md5: 8585b46d5109fd38bd3f353e8e006b90
      size: 32
    - path: metrics/results.csv
      md5: 8ea65ccebb6cf21149d5de83e1a1c0a7
      size: 13076
